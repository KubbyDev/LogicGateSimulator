<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Logic Gate Simulator</title>
    <link rel="stylesheet" type="text/css" href="Style.css"/>
</head>
<body>

<canvas id="canvas" width="1400" height="700"></canvas>
<div id="popup_bg">
    <div id="popup_main_div">
        <!-- Rempli automatiquement -->
    </div>
</div>

<script src="Tools.js"></script>

<script src="Gate/Basic.js"></script>
<script src="Gate/Connection.js"></script>
<script src="Gate/Gate.js"></script>
<script src="Gate/Special/Clock.js"></script>
<script src="Gate/Special/Output.js"></script>
<script src="Gate/Special/Switch.js"></script>
<script src="Gate/Special/Input.js"></script>
<script src="Gate/Special/ConnectionNode.js"></script>
<script src="Gate/Special/CustomGate.js"></script>
<script src="Gate/SerializerParser.js"></script>

<script src="Interface/Interface.js"></script>
<script src="Interface/Button.js"></script>
<script src="Interface/UserInteraction.js"></script>
<script src="Interface/Modes/BuildMode.js"></script>
<script src="Interface/Modes/WiringMode.js"></script>
<script src="Interface/Modes/InteractionMode.js"></script>

<script>

    //TODO: Supprimer les Nodes dans le serializer de CustomGates (opti)
    
    //Exemples de Custom Gates
    //AND3;A&B&C;Q§4;AND§0§1&AND§3§2
    //PulseGenerator(+);I;O§4;NOT§2&NOT§3&NOT§0&AND§1§0
    //RS;Pre&S&Enable&R&Cle;Q§9&/Q§14;AND§0§11&AND§5§14&AND§9§12&AND§7§4&NOT§10&NODE§6&NAND§1§2&NAND§2§3&NODE§8&NOT§13
    //1b Memory;DataIN&WE;DataOUT§4;OR§4§3&AND§0§1&AND§2§5&NOT§7&NOT§0&AND§6§1
    //7 seg Display;Q0&Q1&Q2&Q3;T§6&TR§10&BR§13&B§24&BL§40&TL§49&M§57;NOT§2&AND§4§3&OR§5§8&XNOR§2§0&OR§7§1&XNOR§1§0&OR§9§11&NOT§2&OR§3§2&OR§12§15&NOT§1&OR§14§0&NOT§2&AND§16§3&OR§17§20&NOT§0&AND§19§1&NOT§3&AND§21§23&NOT§2&OR§18§28&AND§22§1&AND§2§0&AND§26§29&OR§25§30&NOT§1&OR§27§32&NOT§2&AND§31§33&NOT§0&NOT§2&AND§34§36&NOT§0&OR§35§39&NOT§0&AND§38§1&OR§37§42&NOT§0&AND§41§3&NOT§1&AND§43§45&NOT§0&OR§44§48&NOT§2&AND§47§3&OR§46§52&NOT§1&AND§50§2&OR§51§54&NOT§0&AND§53§2&XOR§2§1&NOT§2&OR§55§59&AND§56§3&OR§58§61&NOT§0&AND§60§1

    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    const popupBackground = document.getElementById("popup_bg");

    let gates = [];

    Interface.init();

    setInterval(() => {

        Interface.clear();
        Interface.update();
        Gate.updateAll(gates);
        Gate.drawAll(gates);
        Interface.draw();

    }, 10);

</script>

</body>
</html>